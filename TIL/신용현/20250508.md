
í˜„ì¬ ìƒíƒœë¥¼ ë¼ì¦ˆë¹„ì•ˆ OSë§Œ ì„¤ì¹˜í•œ ìƒíƒœë¼ê³  ìƒì •í•˜ê³  ë©”ëª¨í•¨.

# VNC í™œì„±í™”

```bash
sudo raspi-config
```

  ë©”ë‰´ì—ì„œ ë‹¤ìŒ ì„ íƒ

1. **Interface Options** ì„ íƒ
2. **VNC** ì„ íƒ
3. **<Yes>** ëˆŒëŸ¬ VNC í™œì„±í™”

ì„¤ì •ì´ ì™„ë£Œë˜ë©´ â€˜VNC is enabledâ€™ ë©”ì‹œì§€ê°€ ëœ¹ë‹ˆë‹¤.

# í•˜ë“œì›¨ì–´ ìƒíƒœ

| ì²´í¬ | ì„¤ëª… |
| --- | --- |
| Hailoâ€‘8 | Piâ€¯5â€¯M.2â€¯HAT+ì— ì¥ì°©, PCIeâ€¯ì¼€ì´ë¸”Â·ë‚˜ì‚¬ ê³ ì • |
| IMX500Â AIÂ Camera | 15â€‘í•€â€¯CSIÂ ì¼€ì´ë¸” ë°©í–¥ í™•ì¸ |
| ì „ì› | Pi ê³µì‹ 27â€¯WÂ USBâ€‘C ì–´ëŒ‘í„° |

# 1. OS ì—…ë°ì´íŠ¸â€¯+â€¯PCIeâ€¯Gen3

```bash
sudo apt update && sudo apt full-upgrade -y
sudo raspi-config            # AdvancedÂ Options â–¸ PCIeÂ Speed â–¸ Gen3
echo 'dtparam=pciex1_gen=3' | sudo tee -a /boot/firmware/config.txt
sudo reboot
```

# 2. Hailo ë“œë¼ì´ë²„Â·ëŸ°íƒ€ì„

```bash
sudo apt install -y hailo-all        # Bookworm ê¸°ë³¸ íŒ¨í‚¤ì§€ (FWâ€¯4.20.0)
hailortcli fw-control identify       # FirmwareÂ Version 4.20.0 í™•ì¸
```

# 3. ê°œë°œ ë„êµ¬â€¯+â€¯ì¹´ë©”ë¼ ë¼ì´ë¸ŒëŸ¬ë¦¬

```bash
sudo apt update
sudo apt install -y \
    python3-venv git build-essential pkg-config libopencv-dev \
    gstreamer1.0-tools \
    gstreamer1.0-plugins-base gstreamer1.0-plugins-good gstreamer1.0-plugins-bad gstreamer1.0-plugins-ugly \
    gstreamer1.0-libav \
    gir1.2-gstreamer-1.0 libcamera-apps
```

- ì˜¤ë¥˜í•´ê²°ë²• : dpkg: â€¦ files list file for package 'libimath-dev:arm64' is missing final newline
    
    ### ì™œ ì´ëŸ° ì˜¤ë¥˜ê°€ ëœ¨ë‚˜ìš”?
    
    `dpkg: â€¦ files list file for package 'libimath-dev:arm64' is missing final newline`
    
    â†’â€¯`/var/lib/dpkg/info/libimath-dev:arm64.list`â€¯íŒŒì¼ì´ ê¹¨ì ¸ì„œ **APT/DPKG ë°ì´í„°ë² ì´ìŠ¤ê°€ ì†ìƒ**ëœ ìƒíƒœì…ë‹ˆë‹¤.
    
    íŒ¨í‚¤ì§€ ë‚´ìš©ì´ ë¹„ì •ìƒì´ë¼ ìƒˆë¡œìš´ íŒ¨í‚¤ì§€ë¥¼ ì„¤ì¹˜Â·ì—…ë°ì´íŠ¸í•  ìˆ˜ ì—†ê²Œ ëœ ê²ƒì…ë‹ˆë‹¤.
    
    ìš´ì˜ì²´ì œë¥¼ ë‹¤ì‹œ ê¹” í•„ìš”ëŠ” ì—†ê³ , **ê¹¨ì§„ ëª©ë¡ íŒŒì¼ì„ ì¹˜ìš°ê³ Â dpkgë¥¼ ë³µêµ¬**í•˜ë©´ ë°”ë¡œ í•´ê²°ë©ë‹ˆë‹¤.
    
    ---
    
    ## 1ï¸âƒ£â€¯ê¹¨ì§„ íŒ¨í‚¤ì§€ ëª©ë¡ íŒŒì¼ ì œê±°â€¯/â€¯ë°±ì—…
    
    ```bash
    # 1. dpkg ì„¤ì • ë‹¨ê³„ ë§ˆë¬´ë¦¬ (ëŒ€í™” ì—†ì´)
    sudo dpkg --configure -a
    
    # 2. ì†ìƒëœ .list íŒŒì¼ ë°±ì—…Â·ì œê±°
    sudo mv /var/lib/dpkg/info/libimath-dev:arm64.list \
            /var/lib/dpkg/info/libimath-dev:arm64.list.corrupt
    
    ```
    
    > ë‹¤ë¥¸ _:arm64.list íŒŒì¼ì—ì„œ ê°™ì€ ì˜¤ë¥˜ê°€ ë‚˜ë©´ ê°™ì€ ë°©ë²•ìœ¼ë¡œ .list.corrupt ë¡œ ì˜®ê²¨ ì£¼ì„¸ìš”.
    > 
    
    ---
    
    ## 2ï¸âƒ£â€¯íŒ¨í‚¤ì§€ ë°ì´í„°ë² ì´ìŠ¤ ì •ë¦¬
    
    ```bash
    # 3. ê¹¨ì§„ íŒ¨í‚¤ì§€ ì œê±° í‘œì‹œë¥¼ í•´ì œ
    sudo dpkg --remove --force-remove-reinstreq libimath-dev:arm64
    
    # 4. ì˜ì¡´ì„± ìë™ ë³µêµ¬
    sudo apt -f install
    
    ```
    
    ---
    
    ## 3ï¸âƒ£â€¯íŒ¨í‚¤ì§€ ìºì‹œ ì •ë¦¬ í›„ ì¬ì‹œë„
    
    ```bash
    sudo apt clean
    sudo apt update
    sudo apt install -y \
      python3-venv git build-essential pkg-config libopencv-dev \
      gstreamer1.0-tools \
      gstreamer1.0-plugins-base gstreamer1.0-plugins-good \
      gstreamer1.0-plugins-bad gstreamer1.0-plugins-ugly gstreamer1.0-libav \
      gir1.2-gstreamer-1.0 libcamera-apps
    
    ```
    
    ì´ë²ˆì—ëŠ” `dpkg` ì˜¤ë¥˜ ì—†ì´ ì„¤ì¹˜ê°€ ì§„í–‰ë¼ì•¼ í•©ë‹ˆë‹¤.
    
    ---
    
    ## 4ï¸âƒ£â€¯ì¶”ê°€ë¡œ ì ê²€í•˜ë©´ ì¢‹ì€ ëª…ë ¹
    
    | ëª…ë ¹ | ìš©ë„ |
    | --- | --- |
    | `sudo apt autoremove --purge` | í•„ìš” ì—†ëŠ” íŒ¨í‚¤ì§€/ì°”ë” ë‚¨ì€ ì„¤ì • íŒŒì¼ ì •ë¦¬ |
    | `sudo debsums -s` (íŒ¨í‚¤ì§€â€‘`debsums`) | ë‹¤ë¥¸ íŒŒì¼ ì†ìƒ ì—¬ë¶€ ë¹ ë¥´ê²Œ ê²€ì‚¬ |
    
    ---
    
    ### ë§Œì•½ ë¹„ìŠ·í•œ ì˜¤ë¥˜ê°€ ë˜ ë‚˜ì˜¨ë‹¤ë©´?
    
    1. **ì˜¤ë¥˜ ë©”ì‹œì§€ì— ë‚˜íƒ€ë‚œ íŒ¨í‚¤ì§€ ì´ë¦„**(`xyz-dev:arm64.list`)ì„ ê°™ì€ ë°©ë²•ìœ¼ë¡œ `.list.corrupt` ë¡œ ì˜®ê¸´ ë’¤ ìœ„ ë‹¨ê³„ ë°˜ë³µ.
    2. ëª©ë¡ íŒŒì¼ì´ ë„ˆë¬´ ë§ê±°ë‚˜ ê³„ì† ì†ìƒëœë‹¤ë©´ SDì¹´ë“œ/SSD ì €ì¥ì¥ì¹˜ì— ë¬¼ë¦¬ì  ë¶ˆëŸ‰ì´ ì—†ëŠ”ì§€ `dmesg | grep -i error` ë¡œ í™•ì¸í•´ ë³´ì„¸ìš”.
    
    ì´ì œ `apt install`ì´ ì •ìƒ ë™ì‘í•˜ë©´, **Hailo ì˜ˆì œ ì„¤ì¹˜Â·TAPPAS ì–¼êµ´ ì¸ì‹** ì ˆì°¨ë¥¼ ê·¸ëŒ€ë¡œ ì´ì–´ì„œ ì§„í–‰í•˜ì‹œë©´ ë©ë‹ˆë‹¤.
    
    ë‹¤ì‹œ `dpkg` ì˜¤ë¥˜ê°€ ëœ¨ë©´ í•´ë‹¹ ë¡œê·¸ë¥¼ í†µì§¸ë¡œ ì•Œë ¤ ì£¼ì„¸ìš”!
    

# 4. ì „ì—­ ê°€ìƒí™˜ê²½ ë§Œë“¤ê¸° (ì‹œìŠ¤í…œ íŒ¨í‚¤ì§€ í¬í•¨)

```bash
python3 -m venv --system-site-packages ~/hailo-env
source ~/hailo-env/bin/activate
pip install --upgrade pip wheel
```

# 5. ì˜ˆì œ ë ˆí¬â€¯(hailoâ€‘rpi5â€‘examples)

```bash
git clone https://github.com/hailo-ai/hailo-rpi5-examples.git
cd hailo-rpi5-examples
./install.sh                       # ì•½ 1â€‘2ë¶„
source setup_env.sh
echo "source $(pwd)/setup_env.sh" >> ~/.bashrc   # ìƒˆ í„°ë¯¸ë„ ìë™ ì„¤ì •
```

- ì´ê±´ ì–´ë–¤ ëª…ë ¹ì–´ì§€? echo "source $(pwd)/setup_env.sh" >> ~/.bashrc
    
    ## ğŸ” **ëª…ë ¹ì–´ í•´ì„:**
    
    ```bash
    echo "source $(pwd)/setup_env.sh" >> ~/.bashrc
    
    ```
    
    ì´ê±´ ë‹¤ìŒ ì‘ì—…ì„ í•©ë‹ˆë‹¤:
    
    1. `$(pwd)` â†’ **í˜„ì¬ ë””ë ‰í„°ë¦¬ì˜ ì „ì²´ ê²½ë¡œ**ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.
        - ì˜ˆ: `/home/min/tappas`
    2. `source /home/min/tappas/setup_env.sh` â†’ ì´ê±¸ **í•œ ì¤„ ë¬¸ìì—´ë¡œ ë§Œë“­ë‹ˆë‹¤.**
    3. `~/.bashrc` íŒŒì¼ì˜ **ë§¨ ëì— ê·¸ ë¬¸ìì—´ì„ ì¶”ê°€**í•©ë‹ˆë‹¤.
    
    ê²°êµ­ `~/.bashrc` íŒŒì¼ ë§ˆì§€ë§‰ì— ì•„ë˜ ì¤„ì´ ì¶”ê°€ë©ë‹ˆë‹¤:
    
    ```bash
    source /home/min/tappas/setup_env.sh
    
    ```
    
    ---
    
    ## ğŸ“ **ì™œ ì´ë ‡ê²Œ í• ê¹Œ?**
    
    `~/.bashrc`ëŠ” **ë§¤ë²ˆ ìƒˆë¡œìš´ í„°ë¯¸ë„ì„ ì—´ ë•Œ ìë™ ì‹¤í–‰ë˜ëŠ” ì„¤ì • íŒŒì¼**ì´ì—ìš”.
    
    ğŸ‘‰ ì¦‰ **ì•ìœ¼ë¡œ í„°ë¯¸ë„ì„ ìƒˆë¡œ ì—´ ë•Œë§ˆë‹¤ `setup_env.sh`ë¥¼ ìë™ìœ¼ë¡œ ì‹¤í–‰**í•˜ê²Œ í•˜ë ¤ëŠ” ê±°ì˜ˆìš”.
    
    ì´ë ‡ê²Œ í•˜ë©´:
    
    âœ… `TAPPAS` í™˜ê²½ë³€ìˆ˜ë¥¼ ë§¤ë²ˆ `source setup_env.sh` ì…ë ¥í•˜ì§€ ì•Šì•„ë„ ìë™ìœ¼ë¡œ ì„¤ì •ë¨
    
    âœ… Hailo ì˜ˆì œ í”„ë¡œê·¸ë¨ ì‹¤í–‰ì— í•„ìš”í•œ í™˜ê²½ë³€ìˆ˜ë“¤ì´ í•­ìƒ ì¤€ë¹„ëœ ìƒíƒœë¡œ ìœ ì§€ë¨
    
    ---
    
    ## ğŸ’¡ **ì•ˆ í•˜ë©´ ì–´ë–»ê²Œ ë ê¹Œ?**
    
    - ë§¤ë²ˆ ìƒˆ í„°ë¯¸ë„ì„ ì—´ ë•Œë§ˆë‹¤ **ì§ì ‘ ìˆ˜ë™ìœ¼ë¡œ `source ~/tappas/setup_env.sh`** ë¥¼ ì‹¤í–‰í•´ì•¼ í•¨
    - ì•ˆ í•˜ë©´ `TAPPAS_WORKSPACE`, `PATH`, `PYTHONPATH` ê°™ì€ í™˜ê²½ë³€ìˆ˜ê°€ ì„¤ì • ì•ˆ ë¼ì„œ ì˜ˆì œ ì‹¤í–‰ ì‹œ ì—ëŸ¬ê°€ ë‚¨
    
    ---
    
    ## ğŸ¯ **ìš”ì•½:**
    
    ğŸ‘‰ **í•œ ë²ˆë§Œ ì…ë ¥í•´ë‘ë©´ ì•ìœ¼ë¡œ ìë™ ì„¤ì •ë˜ê²Œ ë§Œë“œëŠ” ëª…ë ¹ì–´**
    
    > âœ… ë§¤ë²ˆ í„°ë¯¸ë„ ì—´ ë•Œ ìë™ìœ¼ë¡œ setup_env.sh ì‹¤í–‰
    > 
    > 
    > âœ… Hailo ê°œë°œ í™˜ê²½ì„ ë§¤ë²ˆ ìˆ˜ë™ìœ¼ë¡œ ì„¸íŒ…í•  í•„ìš” ì—†ê²Œ ë§Œë“¦
    > 
    
    ë„ì›€ ë˜ì—ˆê¸¸ ë°”ë¼ìš”! ë” ê¶ê¸ˆí•œ ê±° ìˆìœ¼ë©´ ë¬¼ì–´ë³´ì„¸ìš” ğŸ˜„
    

### VNCì—ì„œë§Œ ì‹¤í–‰

ë™ì‘ì²´í¬

```bash
GST_VIDEO_SINK=fakesink python basic_pipelines/detection.py --input rpi
```

í”„ë ˆì„ ìˆ˜ê°€ ê³„ì† ì˜¬ë¼ê°€ë©´ ì¹´ë©”ë¼Â·Hailo OK.

# 6. TAPPASâ€¯ì½”ì–´ + ì–¼êµ´Â ì¸ì‹ ë¦¬ì†ŒìŠ¤ë§Œ ì„¤ì¹˜

```bash
deactivate # ê°€ìƒí™˜ê²½ ë°–ìœ¼ë¡œ ë‚˜ê°€ì•¼ë¨
cd ~
git clone --depth 1 --branch v3.31.0 https://github.com/hailo-ai/tappas.git
cd tappas
git lfs install
git lfs pull --include "apps/h8/gstreamer/vision/face_recognition/**"
./install.sh --target-platform rpi5 --core-only # ê²ë‚˜ ì˜¤ë˜ê±¸ë¦¼ ã„¹ã…‡ (20ë¶„ ì´ìƒ ê±¸ë¦¼ ì…)
source setup_env.sh
```

- ì—ëŸ¬ í•´ê²° : git: 'lfs' is not a git command. See 'git --helpâ€™
    
    ```bash
    sudo apt install git-lfs
    git lfs pull
    ```
    
- ì„¤ì¹˜ ì—ëŸ¬ ./install.sh --target-platform rpi5 --core-only
    
    ### â‘  **Hailo SDK ë‹¤ìš´ë¡œë“œ**
    
    âœ… Hailo Portal ê³„ì •ì´ ìˆìœ¼ë©´ â†’ ë¡œê·¸ì¸ â†’ ë‹¤ìš´ë¡œë“œ
    
    âœ… ì—†ìœ¼ë©´: https://hailo.ai/developer-zone/ â†’ ê°€ì… í›„ ë‹¤ìš´ë¡œë“œ
    
    í•„ìš”í•œ íŒŒì¼:
    
    - âœ… `hailort_4.20.0_arm64.deb` â†’ Hailo Runtime ë¼ì´ë¸ŒëŸ¬ë¦¬ (í•„ìˆ˜)
    - âœ… `hailort-pcie-driver_4.20.0_all.deb` â†’ PCIe ë“œë¼ì´ë²„ (Hailo-8 PCIe ì¹´ë“œìš© ë“œë¼ì´ë²„)
    
    ğŸ‘‰ Raspberry Pi 5 (arm64ìš©)ìš© **deb íŒŒì¼** ë‹¤ìš´ë¡œë“œ
    
    ---
    
    ## ğŸš€ **ì„¤ì¹˜ ë°©ë²•**
    
    ì´ì œ ë‹¤ìš´ë¡œë“œ í´ë”ì— ìˆë‹¤ë©´ ì•„ë˜ì²˜ëŸ¼ ì„¤ì¹˜í•˜ë©´ ë©ë‹ˆë‹¤:
    
    ```bash
    cd ~/Downloads  # íŒŒì¼ ìœ„ì¹˜ì— ë§ê²Œ ê²½ë¡œ ì¡°ì •
    sudo apt install ./hailort_4.20.0_arm64.deb ./hailort-pcie-driver_4.20.0_all.deb
    ```
    
    ğŸ‘‰ ì„¤ì¹˜ ë„ì¤‘ ì˜ì¡´ì„± ë¬¸ì œ ì—†ìœ¼ë©´ ë°”ë¡œ ì„¤ì¹˜ë  ê±°ì˜ˆìš”.
    
    ---
    
    ## âœ… **ì„¤ì¹˜ í™•ì¸**
    
    ì„¤ì¹˜ í›„ ì•„ë˜ ëª…ë ¹ìœ¼ë¡œ ë²„ì „ í™•ì¸:
    
    ```bash
    hailortcli --version
    
    ```
    
    ì´ë ‡ê²Œ ë‚˜ì˜¤ë©´ ì„±ê³µ:
    
    ```
    HailoRT-CLI Version: 4.20.0
    
    ```
    
    ---
    
    ê·¸ ë‹¤ìŒì—
    
    /home/min/tappasì— hailortí´ë” ë§Œë“¤ê³ 
    
    ê±°ê¸° ì•ˆì— sourcesí´ë” ë§Œë“¦.
    
    hailort í´ë”ì—ëŠ” hailort_4.20.0_arm64.debë¥¼ ë„£ê³ 
    
    sources í´ë”ì—ëŠ” hailort-pcie-driver_4.20.0_all.deb, hailort_4.20.0_arm64.debë¥¼ ë„£ëŠ”ë‹¤.
    
    ```bash
    cd ~/tappas
    ./install.sh --target-platform rpi5 --core-only
    ```
    

setup_env.sh ì“°ì§€ë§ê³  ì•„ë˜ë¥¼ ì“¸ê²ƒ.

```bash

source /home/min/.hailo/tappas/tappas_env
```

# 7. ì–¼êµ´â€¯ì¸ì‹ ì‹¤í–‰ (IMX500, í™”ë©´ ì—†ìŒ)

```bash
GST_VIDEO_SINK=fakesink \
python apps/h8/gstreamer/vision/face_recognition/face_recognition.py \
       --input rpi --width 640 --height 640 --no-overlay
```
